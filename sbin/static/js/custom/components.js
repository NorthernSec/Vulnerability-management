// Add
$(function() {
  $('#add').bind('click', function() {
    $.getJSON('/_add_component', {
      name: $('#name').val(),
      cpe: $('#cpe').val(),
      comments: $('#comments').val()
    }, function(data) {
      var option = '';
      for (i=0;i<data["components"].length;i++){
        option += '<option value="'+ data["components"][i]["cpe"] + '">' + data["components"][i]["name"] + '</option>';
      }
      $('#components').empty().append(option);
    });
    $("#name").val("");
    $("#cpe").val("");
    $("#comments").val("");
    return false;
  });
});

// Load
$(function() {
  $('#load').bind('click', function() {
    $.getJSON('/_get_component', {
      cpe: $('#components').val(),
    }, function(data) {
      $("#name").val(data["name"]);
      $("#cpe").val(data["cpe"]);
      $("#comments").val(data["comments"].join("\n"));
    });
    return false;
  });
});
