# Object ID's
@cursor_wrapped
def getSystemGroupID(cur, name, team):
  cur.execute("""SELECT System_Groups.id
                 FROM System_Groups, Teams
                 WHERE System_Groups.name = %s
                   and Teams.name = %s
                   and System_Groups.team_id = Teams.id;""", (name, team))
  sid=cur.fetchone()
  return sid[0] if sid else None


@cursor_wrapped
def getComponentID(cur, name):
  cur.execute("""SELECT id FROM Components WHERE name = %s;""", (name, ))
  cid=cur.fetchone()
  return cid[0] if cid else None


# List of ID's
@cursor_wrapped
def getPriorityLevels(cur):
  cur.execute("""SELECT id, min_cvss FROM Ticket_Priorities WHERE min_cvss IS NOT NULL;""")
  # Sort from highest CVSS to lowest
  priorities=sorted(cur.fetchall(),key=lambda x: x[1])
  return priorities
